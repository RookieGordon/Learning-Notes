---
tags:
  - ET
---
# Mailboxes邮箱
每个`Fiber`都有一个邮箱`Mailboxes`，外界只能通过邮箱来和`Fiber`进行通信，通过对比[[网络协议收发#^3a23da|ProcessInnerSender.HandleMessage]]方法，可以得知，每个`Actor`消息，都会配置一个`MailBoxComponent`组件，一个`Fiber`则会通过`Mailboxes`字段，持有多个`MailBoxComponent`组件。
```CSharp
private readonly Dictionary<long, MailBoxComponent> mailboxes = new();
```
# MailBoxComponent组件
```CSharp
public class MailBoxComponent: Entity, IAwake<MailBoxType>, IDestroy  
{  
    public long ParentInstanceId { get; set; }  
    // Mailbox的类型  
    public MailBoxType MailBoxType { get; set; }  
}
```
`ParentInstanceId`字段表示其父`Entity`节点的id。需要通讯的组件，都可以挂

# Actor模型

```cardlink
url: https://github.com/egametang/ET/blob/release8.1/Book/5.4Actor%E6%A8%A1%E5%9E%8B.md
title: "ET/Book/5.4Actor模型.md at release8.1 · egametang/ET"
description: "Unity3D Client And C# Server Framework. Contribute to egametang/ET development by creating an account on GitHub."
host: github.com
favicon: https://github.githubassets.com/favicons/favicon.svg
image: https://opengraph.githubassets.com/51900eb35a4d441be22e6c7486f0b7cce5c94b385ea2cfcb0ccd4f81fa0c2a6e/egametang/ET
```

```cardlink
url: https://github.com/egametang/ET/blob/release8.1/Book/5.5Actor%20Location-ZH.md
title: "ET/Book/5.5Actor Location-ZH.md at release8.1 · egametang/ET"
description: "Unity3D Client And C# Server Framework. Contribute to egametang/ET development by creating an account on GitHub."
host: github.com
favicon: https://github.githubassets.com/favicons/favicon.svg
image: https://opengraph.githubassets.com/51900eb35a4d441be22e6c7486f0b7cce5c94b385ea2cfcb0ccd4f81fa0c2a6e/egametang/ET
```

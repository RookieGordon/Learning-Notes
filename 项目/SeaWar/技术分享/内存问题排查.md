# ä¸€ã€å‰è¨€

## ğŸ’¬ **é—®é¢˜è¡¨ç°ï¼š**

Â Â å› ä¸ºæœ¬åœ°ç¼“å­˜ä¿®æ”¹ï¼Œä¸šåŠ¡é€»è¾‘å–åˆ°ç©ºå€¼æ—¶æ²¡æœ‰è¿›è¡Œåˆ¤ç©ºä¿æŠ¤ï¼Œç›´æ¥è¿›è¡Œpairéå†ï¼Œå¯¼è‡´å¡åœ¨ç™»å½•loadingç•Œé¢ï¼Œä½†æ˜¯åå°ä¸€ç›´åœ¨è·‘ã€‚çœ‹äº†ä¸€ä¸‹æ—¥å¿—å·²ç»æ¶¨åˆ°äº†2Gï¼Œè¿™ä¸ªå¾ˆä¸æ­£å¸¸ï¼Œéœ€è¦æ’æŸ¥å†…å­˜å¢é•¿åŸå› ã€‚

## ğŸ“Œ **å…ˆè¯´ç»“è®ºï¼š**

Â Â ä¸šåŠ¡ä¾§é€»è¾‘å¼‚å¸¸ï¼Œåœ¨åˆ›å»ºbyteæ•°ç»„æ—¶ç”³è¯·äº†ä¸€å—å·¨çš„å†…å­˜ã€‚

Â Â åœ¨å†…å­˜è¢«é‡Šæ”¾åï¼ŒUnityåœ¨ä¸ä¼šç«‹é©¬æŠŠè¿™äº›å†…å­˜è¿˜å›å»ï¼ˆéœ€è¦ç»è¿‡å‡ æ¬¡GCä¸”å†…å­˜æ²¡æœ‰è¢«ç”¨åˆ°åæ‰ä¼šå½’è¿˜ç»™ç³»ç»Ÿï¼‰ã€‚

Â Â åœ¨è¿™ä¸ªæœŸé—´Unityä¼šæŒæœ‰ä¸€å¤§å—å†…å­˜ç¢ç‰‡ï¼Œå¯¼è‡´æˆ‘ä»¬çš„æ¸¸æˆä½¿ç”¨çš„å†…å­˜å¼‚å¸¸ã€‚

**å¯¹ä¸šåŠ¡è¦åšå¼‚å¸¸åˆ¤æ–­ï¼Œç‰¹åˆ«æ˜¯åœ¨åˆ†é…****å†…å­˜****æ—¶ï¼Œé¿å…çŸ­æ—¶é—´ç”³è¯·å¤§é‡å†…å­˜ï¼Œå¯¼è‡´å†…å­˜è¢«æ’‘å¤§**

# äºŒã€åˆ†æ

1. ## å†…å­˜æˆªå›¾
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=NDE1MjU0N2M5NTEwN2Q0YTYxOTU4NTg2NGVlZjY3MjJfWTR3SlBoenJmS2FSaU5mbmRLRVlZYWtTRFFBUk96QnhfVG9rZW46SG5NMWJBSUZHb3hLMmt4b0hXaWM1QVNybkxmXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    

è¿™é‡Œå¯ä»¥çœ‹åˆ°ä¸»è¦æ˜¯ Empty Fragmented Heap Space è¿‡å¤§çš„é—®é¢˜

2. ## é—®é¢˜æ—¥å¿—
    
    æš‚æ—¶æ— æ³•åœ¨é£ä¹¦æ–‡æ¡£å¤–å±•ç¤ºæ­¤å†…å®¹
    

3. ## åˆæ­¥ç»“è®º
    
    Â Â è¿™é‡Œå¹¶ä¸æ˜¯å¸¸è§„æ„ä¹‰ä¸Šçš„å†…å­˜æ³„æ¼ï¼Œå› ä¸ºæˆ‘ä»¬çš„å¯¹è±¡å¹¶æ²¡æœ‰ç–¯ç‹‚å¢é•¿ï¼Œæ¶¨çš„æ˜¯å†…å­˜ç¢ç‰‡è¿™ä¸€å—ã€‚
    

# ä¸‰ã€å†…å­˜ç¢ç‰‡ç ”ç©¶

Â Â å…¶å®ç¨å¾®é—®ä¸€ä¸‹AIæˆ–è€…åšä¸€ä¸‹ç½‘ç»œè°ƒç ”ï¼Œå¤§æ¦‚å°±çŸ¥é“è¿™æ˜¯æ€ä¹ˆä¸€å›äº‹äº†ï¼Œè¿™é‡Œé™„å¸¦æœç´¢æ—¶è®©GPTåšçš„æ·±åº¦ç ”ç©¶ï¼Œæ•´ç†çš„è¿˜ä¸é”™ï¼Œæ‰€ä»¥é™„å¸¦ä¸Šä»¥ä¾›å‚è€ƒã€‚

æš‚æ—¶æ— æ³•åœ¨é£ä¹¦æ–‡æ¡£å¤–å±•ç¤ºæ­¤å†…å®¹

1. ## ä»€ä¹ˆæ˜¯å†…å­˜ç¢ç‰‡
    
    Â Â å®˜æ–¹æ–‡æ¡£ï¼šManaged memory[[1]](https://o455xcugsp.feishu.cn/docx/BvIddcy7poZepZxeqeocorQsnFc#doxcnhGt6LhalnGSiWtkfE3Df5g)
    
    Â Â ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å½“å†…å­˜è¢«é‡Šæ”¾åï¼Œå¯¹åº”çš„ç©ºé—´ä¸è¶³ä»¥æ”¾ä¸‹ä¸€ä¸ªæ–°çš„æ›´å¤§çš„æ•°æ®çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸€éƒ¨åˆ†å°±ä¼šè¢«ç©ºé—²ç€ï¼Œå˜æˆäº†å†…å­˜ç¢ç‰‡ã€‚
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=OTQxYzJiNWQ5YTM0YmY3NTRhMDliNGIzMGI3MDMwZjlfR0RrdTlhMmhuUVY2dTc1QjRxZ0lkR3BDQmZ2MGNBUWNfVG9rZW46Qk1IcWJ5VVVmb3F6Ukl4T2o2UWNKUGplbjBlXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    

2. ## å†…å­˜ç¢ç‰‡å¦‚ä½•äº§ç”Ÿ
    
    - ä¸€æ¬¡æ€§åˆ†é…å¤§é‡å†…å­˜/å¤§å¯¹è±¡
        
    - å¤§é‡ä¸´æ—¶å¯¹è±¡å’Œé¢‘ç¹GC
        
    - èµ„æºåŠ è½½/å¸è½½é¢‘ç¹
        
    - é¢‘ç¹åˆ†é…/é”€æ¯æ¸¸æˆå¯¹è±¡
        
    - åç¨‹è¿‡åº¦ä½¿ç”¨
        
    - ä¸å½“çš„å†…å­˜æ¨¡å¼å’Œå…¶ä»–GCçƒ­ç‚¹
        
    

3. ## å†…å­˜ç¢ç‰‡æŸ¥çœ‹
    
    Â Â å®˜æ–¹åœ¨ Memory Profiler 0.7.1-preview.1 ä¸­å¢åŠ äº† Fragmentation view ç”¨æ¥æŸ¥çœ‹å†…å­˜åˆ†é…[[2]](https://o455xcugsp.feishu.cn/docx/BvIddcy7poZepZxeqeocorQsnFc#doxcnQSWCzI1sKafrXnpF2Ut0Zc)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=MTQzMzBhY2IzZjRkMDlhMzQ4ZTc2NTVjOTFhNGY5MDNfck1EZkZUdWQyUTlMcW84VjQ0dUNqQ3ViTjRFNnFYSFNfVG9rZW46WXN4bmJCMHhtbzJRTHV4aXJOcWNhcFVQbjA4XzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    Â Â å…¶ä¸­å¯ä»¥çœ‹åˆ°åˆ†é…çš„å†…å­˜çš„å¤§è‡´æƒ…å†µã€‚
    
    Â Â åæ¥å› ä¸ºç”¨æˆ·åé¦ˆï¼Œåœ¨æ–°ç‰ˆæœ¬ä¸­ç§»é™¤äº†è¿™ä¸ªé¡µç­¾[[3]](https://o455xcugsp.feishu.cn/docx/BvIddcy7poZepZxeqeocorQsnFc#doxcnlUikPCFNyM1RweIYq09Y0d)[[4]](https://o455xcugsp.feishu.cn/docx/BvIddcy7poZepZxeqeocorQsnFc#doxcn0RBMLkn0Pfz7WiveFp7KQh)ï¼Œç»™å‡ºçš„åŸå› æ˜¯ä¼šè¯¯å¯¼ç”¨æˆ·
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=OTA5M2IwMjgwNTZhNDQ0OGIyNzY0ZjNiNjQ3YzdiNDFfNTNRSEJ1WHgxVU5ZMW9wRHpUUmt1ckhNVWVDcUR2WU1fVG9rZW46TE52bWJGaXVDb0dMZnR4Rm8ycmM3YXQxbkdjXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    Â Â åŒæ—¶ç½‘ç»œä¸Šè¿˜å­˜åœ¨æ–‡ç« è¯´è¿™ä¸ªå†…å­˜åˆ†æä¸å¤Ÿå‡†ç¡®
    
    > åœ¨MemoryProfiler0.7çš„ç‰ˆæœ¬,å­˜åœ¨ä¸€ä¸ªfragmentationçš„é¢æ¿,å¯å¯ä»¥ç”¨æ¥æŸ¥çœ‹ managed memoryç¢ç‰‡åŒ–çš„ç¨‹åº¦,ä½†æ˜¯è¿™ä¸ªé¢æ¿å­˜åœ¨bug,å¯èƒ½ä¼šå¯¼è‡´reportçš„ managed objectæ•°é‡,è¿œå°‘äºå®é™…çš„used managed heapã€‚[[5]](https://o455xcugsp.feishu.cn/docx/BvIddcy7poZepZxeqeocorQsnFc#doxcnuGnh0ykT22bhqVUB4mFNAg)
    
    **é‚£ä¹ˆè¿™ä¸ªProfileråŠŸèƒ½è¿˜èƒ½ç›¸ä¿¡å—ï¼Ÿå¯ä»¥ä¿¡ï¼Œä½†æ˜¯åˆ«å…¨ä¿¡ï¼Œå¯ä»¥å½“ä¸€ä¸ªä¸»è¦å‚è€ƒã€‚**
    

4. ## å†…å­˜åˆ†é…
    
    Â Â é€šè¿‡ Unity Memory Profilerä¸­çš„Fragmentationå¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šç±»å‹çš„åˆ†é…å®
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=YjE2ZmFlOThmNzllYzMzNjZiOTE4OGY4NDI4N2Q1NTBfQmp3Nkx4bVFJZWRMTno5M3pOQUVBaWthQ3dBYXZyWEpfVG9rZW46REM5eGJqdUt1b0xaTDV4d0dSUGNlZk0ybnloXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=NjZhNmUwNzRmMjY3NWQ2MzYzOTExY2YwZWQ0ODRkNzFfeHl0ckZHcWhpWThrVFlWRlpISDNySzVQZ2Z3UWFXSGZfVG9rZW46WGp6TGJsM29Wb1BKM3p4eU1vRmNqOVRMbkdlXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=MjhjM2NjMmExMjZlODIzMmQ5MmU2NjFiZWRhMjBlMDVfU1dnYVlYTFllWDRQbVpreVpDSUlvQ0N0UkQ3RW5PVGlfVG9rZW46U0tBSmJZMDI2b2pOMkJ4a09kZGN6bWoxbmtiXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=ZTNjMDA4Nzg1YzM1NWQzNTg5YTY3NTc3YmE2NzU3Y2VfaVVTbGI2ZHhqZkVldERLR3F3SEZMWEVzdFR2aXdnTzVfVG9rZW46R0wwbWI5ZFdMbzVmdk94QjBYWmN2cUxhbk1oXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=YjI1N2VkMDY1NjkyMWZiZWI3MjI3MWEyYjE1ZjEzMjVfdVFoY0RON2Q2bnBoM29PTjZVY3NOQXU0Z2NpdkRoOTNfVG9rZW46WHcyRWJ2TmlHb0JCajl4Mm01UGNGUDMzbkxKXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=Y2ExYzdlZjNmMWI5NzY4MTdiMDQ2N2Q5ZjljZmFmOWVfaGRXY29ZWDk3VjJqaUlNMnN0aVFsMm1ha0VSM3J4TU5fVG9rZW46VE8ycWJkMFZ6b0FlOEp4OGl5N2NNMUJLbjJjXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=ZjExZmY0YThmZDg4NTU3YjYzY2RjNGJiODMwMjVmZjRfT2pKRkt5cVVaalc2NEhacEJ1WUsxS29OUFU1ZXQ1dXRfVG9rZW46QWFQOGJHNXVSb2I4Nlh4aTc1QmN6RG9XbmhjXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=OGJlNzI4OTFiYWZiMTMyODVhMWZiMjU5MTg0NTlhNTBfSjBzTnZHRXZ4TTRXd3RyV0FsNUJUY0VKc091RDZsQ1JfVG9rZW46RlE2YWJZcWc1b1RocGd4RXFTVWNvZk1Sbm1jXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=NDc0ZmZkYjkwZjIxZTcwNWUzZDQ3YzlhMjIyYjI2ODlfZXl2REx4dHV2TW4yQ3g3RURRTTNpeWxiTEYxdGxpbHJfVG9rZW46VnU5Q2JvNHRZb0ZubGN4cVhydWNaV3ZMbkJoXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=ZWJhMWZhZGNjNTk3OGVhMjZhMjk0NDZjMTQ5YTM2NTJfNGJiZ0FVT1FiVm5scFhkcUFqbHc2aXRBSFVBM1VUUnlfVG9rZW46VGNnSGJrbmVMb3VZSXJ4UWJGQmNta2hQbkhjXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=YjE0YThhZjFhMDdhYjExMDdlNTY3NDQ5YzkwNDBhNjVfajlCeHJ4OWF4VFVQR1NVRmNYNkJFU2JsS3U5MlNnV3dfVG9rZW46SzhqTWI1VEhnb2dsek94UFJjdGNQcHlKblNmXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=OTY3OGRmZmE0ZDNiN2FhZDljYWZlZDgzMTNhYTExY2NfRERiZHZRWkhEc2lSb3Q1dHhvVW1uNlpyYVFCQk9pczhfVG9rZW46VEV5T2JaTEZ1b0ZBUVF4d2Q2UWNBajIxbnNnXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=NGEwMjg0N2RjMTUxYzJmN2E3NTEwMzRlMDQ2NzdiZGRfRm1qTjZwMFA1cTNJeTdRaGFwY1NuVkhSYWlweUd4QWlfVG9rZW46QXZUS2JjcDB6b3NLSDd4WWpuZWNhcWxubkJnXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=ZDlkMWJjMmJlM2NjYzkxNmNkNDgyNTY0MmU3MDg4NmJfcGU3dWI2Z1NnT09JS3pOZ2VYUEtNMHpFR0VMeHJkNVRfVG9rZW46VUU4SmJqVkhYb2FsNnN4WjFaemNxV0JNbkhjXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=OGM0YjliMWY0NmIzMWI1M2Y5MzNlMjRlMzM0MWIwOTlfVWxYWjA4cXBzS0FJRGQxN0w3RUhNRk1XT1dQQVhEakJfVG9rZW46VVNjaWJsVWF0b3Ezcmx4NW4xUGNMOFh5bjhkXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=ZTk0M2E1ZTg4ODI0ZDdmYWI3MDg3OTkxMDU2NjMwMjlfSkNsNUk4VVQ4dHVjajI3Y05OekFoNHp6c1NxZFBMTTlfVG9rZW46SWhnVWJhWjJDbzJxcnZ4Nnl0emNMZk1MbnFiXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    Â Â è¿™é‡Œç®€å•æ•´ç†äº†ä¸€ä¸‹ï¼Œé‡åˆ°é—®é¢˜å¯ä»¥å¿«é€Ÿå®šä½ï¼Œåˆ°æ—¶å€™å†æ·±å…¥æ›´è¿›å³å¯
    
    Â Â å®˜æ–¹ä¹Ÿæä¾›äº†æ–‡æ¡£è¿›è¡Œè§£é‡Š[[6]](https://o455xcugsp.feishu.cn/docx/BvIddcy7poZepZxeqeocorQsnFc#doxcnDk9lpuWNnyeKFqJG0C8Wjf)
    
    |   |   |   |
    |---|---|---|
    |**ç±»åˆ«**|**Example åˆ†é…å™¨**|**ä¸»è¦ç”¨é€”**|
    |**æ‰˜ç®¡å †**|Managed Heap Section|C# å¯¹è±¡ã€Lua å­—ç¬¦ä¸²ã€æ•°ç»„|
    |**å¤§å—åˆ†é…**|Single Large Allocation|çº¹ç†ã€Meshã€AB è§£å‹ Buffer|
    |**Bucket Pool**|BucketAllocator|å°å¯¹è±¡é¢‘ç¹åˆ›å»º|
    |**é»˜è®¤åˆ†é…å™¨**|ALLOC_DEFAULT_MAIN/THREAD|å¼•æ“æ ¸å¿ƒç»“æ„ä½“ã€èµ„æºåŠ è½½|
    |**TypeTree**|ALLOC_TYPETREE/THREAD|åºåˆ—åŒ–ç³»ç»Ÿ|
    |**ç¼“å­˜å¯¹è±¡**|ALLOC_CACHEOBJECTS/THREAD|Shaderã€Material ç¼“å­˜|
    |**æ¸²æŸ“ç³»ç»Ÿ**|ALLOC_GFX_MAIN/THREAD|æ¸²æŸ“æ•°æ®ç»“æ„|
    |**Job ä¸´æ—¶åˆ†é…**|ALLOC_TEMP_JOB_*|åå° jobã€temp mem|
    |**Profiler**|ALLOC_PROFILER|æ€§èƒ½æ•°æ®é‡‡æ ·|
    |**Memory Profiler**|ALLOC_MEMORYPROFILER|æŠ“å¿«ç…§|
    |**æ ˆå¼åˆ†é…å™¨**|å„ç§ ALLOC_TEMP_*|å„çº¿ç¨‹çš„ä¸´æ—¶æ•°æ®|
    

# å››ã€é—®é¢˜æ’æŸ¥å®šä½

1. ## å°è¯• Release25.11.17 åˆ†æ”¯devåŒ…æµ‹è¯•å¤ç°
    

### a) æµ‹è¯•ç¯å¢ƒ

Â Â **æµ‹è¯•ç‰ˆæœ¬é“¾æ¥ï¼š**

Â Â [android_custom_profile #241](http://192.168.4.14:8080/job/SeaWar/job/android_custom_profile/241/)

Â Â **æµ‹è¯•æ–¹å¼ï¼š**

Â Â åœ¨ç™»å½•ç•Œé¢æŒ‚æœºåŠå°æ—¶ï¼Œè®°å½•å†…å­˜å¢é•¿

### b) æµ‹è¯•ç»“æœ

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=YjZkYWNlNmQyM2MwZjA1ODlmYzFkZTc3YjM3NDYwY2JfT1RDN1Fhd3BSNkpkSUpXNUpvNnJxbTdYMGRBU3NheTFfVG9rZW46RlhXWGJqVVRPb3BoaWJ4V0xjY2NwRjQ0bkljXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

**æµ‹è¯•ç»“æœï¼š**

åŠä¸ªå°æ—¶å†…å­˜æ— å¼‚å¸¸å¢é•¿æƒ…å†µã€‚

### c) **æ·»åŠ å¢åŠ å¼‚å¸¸é˜»å¡ï¼Œç™»å½•æµ‹è¯•å†…å­˜å¢é•¿**

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=NmU0ZjQxNzkyYzM5N2JjY2YyN2JmNTMzOWQ3YTMzZTdfaFZmUnBoRjZYbU0xMWJDNFJ2SXp0c3cybTU0N05yUWlfVG9rZW46RnpwcGJpRnJlb1ZsU3B4Y3dxZ2NSdGc3bjdlXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=N2Q5NTI2ZTQwZjliOTQxN2Q2YWFkMTJmMWJkYjZlOWFfZjhWZFRzenBlendUZm8wV3JJbWhsWjVPZFlOWHJROGlfVG9rZW46V3R3dGJWUXJQb0czRzN4djZscmNXQm16blhkXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

æ— æ—¥å¿—è¾“å‡ºï¼Œæ¨¡æ‹ŸæŠ¥é”™

æ—¥å¿—è¾“å‡ºï¼Œæ¨¡æ‹ŸæŠ¥é”™

### d) æµ‹è¯•ç»“æœ

**ç»“è®ºï¼šæ— å¼‚å¸¸**

2. ## å°è¯• Develop åŒ…æµ‹è¯•å¤ç°
    

### a) æµ‹è¯•ç¯å¢ƒ

**æµ‹è¯•ç‰ˆæœ¬é“¾æ¥ï¼š**

Â Â [android_develop #1100](http://192.168.4.14:8080/job/SeaWar/job/android_develop/)

**æµ‹è¯•æ–¹å¼ï¼š**

åœ¨ç™»å½•ç•Œé¢æŒ‚æœºåŠä¸ªå°æ—¶ï¼Œè®°å½•å†…å­˜å¢é•¿

### b) æµ‹è¯•ç»“æœ

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=MGRmNGU2ZjU3ZmZkNzA1MWExYWNhYTEzMzgwZDc4ZjJfWDM0djhZSlo4WDdDUFBUZXE4MTE0U2d2QVBiUGo4U1pfVG9rZW46RzFXTWJ1WUpjb1Q4Q294TTFzS2NUZXBGbjRnXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

**æµ‹è¯•ç»“æœï¼š**

åŠä¸ªå°æ—¶å†…å­˜æ— å¼‚å¸¸å¢é•¿æƒ…å†µã€‚

  

### c) **æ·»åŠ å¢åŠ å¼‚å¸¸é˜»å¡ï¼Œç™»å½•æµ‹è¯•å†…å­˜å¢é•¿**

**æµ‹è¯•æœºå‹ å°ç±³ Mix2S**

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=MDg3ZjMwZTk4YTAzNjQxNTI2OGNiMDc0ZDhiMjNjY2JfWU1IeWFJcjJTV25lZ3ZXMUVDTG1mbGJoeURrTzBDbzNfVG9rZW46SzZydWIzZ1N3bzdPMFl4ZkRhUGNPS1M2bmlrXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=NTQ2ZDk5ODQxYzVhYjc4MTAwYmEwOWQwNTRhMjIyZDZfZnhQeW8yOGtRY2ZkVUV1WTBxRGE0S1VtaEY4aFJOUzNfVG9rZW46WHBSWGJnaHJFb2hrMUJ4VG1za2NCTmRRblBnXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

åˆšåˆšå¼€å§‹æœ‰å†…å­˜å¢é•¿

ä¸€å®šæ—¶é—´åå°±æ²¡æœ‰äº†

**æµ‹è¯•æœºå‹ Pixel 8**

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=NzQ5N2MzZDJhZTUwMjk4Y2Q1NDUyNWM4NDE3MWZhZmZfU09MVk4wOGV2UTh3WldjaHc4MWlFN1luNEZBSUVKc1dfVG9rZW46WWxUOGJLQ0FLb09zdE94Q2drRWNBVks4bkRlXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

å†…å­˜å¼€å§‹ä¹Ÿä¼šå¢é•¿ï¼Œä½†æ˜¯åˆ°ä¸€å®šçš„ç¨‹åº¦ä¹‹åå°±åœäº†

### d) æµ‹è¯•ç»“æœ

**ç»“è®ºï¼šæ— å¼‚å¸¸**

3. ## å°è¯•æŒ‡å®š Dev åŒ…æµ‹è¯•å¤ç°
    

åŸºäºä¸»å¹²çš„æœ€æ–°çš„devåŒ…ä¸èƒ½å¤ç°é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰¾åˆ°å¯¹åº”çš„ç‰ˆæœ¬è¿›è¡Œä¸€ä¸‹æµ‹è¯•

### a) ç¯å¢ƒå‡†å¤‡

Â Â é€šè¿‡æ—¥å¿—ç¡®è®¤ç‰ˆæœ¬

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=NzdlYzExMjI4ZGZjNDQxMWY1ZGI5NWFjMTEyMTQyY2NfVlBadHp1RVFKRnJjQ1ZISTFpejBtZDhBYzNKaG5wUG5fVG9rZW46V3Myc2JIZk1Ob1FJNTl4T1FnNGNLZUM3bnd3XzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

é€šè¿‡æ‰“åŒ…è®°å½•ç¡®å®šå¯¹åº”åˆ†æ”¯æƒ…å†µ

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=MjJkNzIxYTgxNTJjNTBmZjVjNmM5OTRhNWFjMGYwMmVfOXNnSmU0Rno5V0FnUWZpN256UDNObTFSR1h2eHJmQTFfVG9rZW46UE9DamJUejdTb3VUbm14MUlpSWM5YWRwbkRlXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=OWYxMWJiYzliZWNlMzk4ZDZkYzVlNTdmZGNjZmQyNjBfZTFKM3Fqa2xUSHFGc0twa1BJUnMxUFdyR2JzUk5QNGdfVG9rZW46QzVYOWJPOWF2b2cza0Z4bFN0NGNZbFYybktnXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=ZjRkOGRkYjRlZmI0M2MzNDdhZTJhODM3YWQzNjhjNzFfQnI3TXp6NkdVQ0hoVnJ1ODQyVDNwWEprNUswSG9jVDRfVG9rZW46SGVaZmJ3SVM5b2gyN3J4ODVRV2N5cmFjbmViXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=MjIxMWZhMmNjOTY5MjQ2N2YzOGNhZTUwNWUyNWNkNjVfUUhxMUNrZVhHSXVSNWt2RmRyb3l0bmZja0NHaTVkb2FfVG9rZW46UkMyWGI5VWpFb0pOcVR4Y2Y2aWNtMkVwbjhkXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

é€šè¿‡gitå‘½ä»¤ï¼Œå¯ä»¥åŸºäºè¿™ä¸ªèŠ‚ç‚¹æ‹‰å‡ºä¸€ä¸ªåˆ†æ”¯

```Plain
git checkout -b feature/feature_dev_test 380b09e
```

å†æ‰“è¿™ä¸ªåˆ†æ”¯çš„åŒ…å°±è¡Œ

### b) æµ‹è¯•

ç»“æœä¹Ÿå’Œä¹‹å‰çš„ä¸€æ ·

4. ## ä»”ç»†æŸ¥çœ‹åˆ†æå†…å­˜ç¢ç‰‡å·¨å¤´
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=MjFlMDgyMzkyODIwOGFlYWFiODllZjE2OTgwNTdmZGFfbzJhTGZ5dDMyc2tWd090emp1UmxtNWVETmZPQndOVm5fVG9rZW46SkxYRWJmUkNIb2lNWmJ4czRuTGNZa04ybjVlXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    Â Â ä¹‹å‰åˆ†æç•¥è¿‡äº† Managed Heap Memoryï¼Œç°åœ¨æŠ˜å›æ¥çœ‹å‘ç°è¿™é‡Œæœ‰ä¸€å¤§å—å†…å®¹
    
    Â Â åˆ†æä¹‹åå‘ç°**è¿™é‡Œæ²¡æœ‰ä»»ä½•ä¸œè¥¿ï¼Œä½†æ˜¯Unityè¿˜æ˜¯æŒæœ‰äº†è¿™ä¸ªåŒºåŸŸçš„å†…å­˜**ã€‚
    
    Â Â é€ æˆè¿™ç§é—®é¢˜çš„**ä¸»è¦åŸå› **æ˜¯ï¼š**åŒæ—¶å¤„ç†äº†å¤ªå¤šäº‹æƒ…ï¼Œéœ€è¦å†…å­˜çš„å·¥ä½œ**ï¼Œå¯¼è‡´æ²¡æœ‰å¯ä»¥å¤ç”¨çš„å†…å­˜ï¼Œæ‰€ä»¥å°±ä¸æ–­ç”³è¯·äº†æ–°çš„å†…å­˜ã€‚ä¹‹åè¿™äº›ä¸œè¥¿ä¸ç”¨äº†ï¼Œé‡Šæ”¾æ‰äº†ï¼Œä½†æ˜¯å†…å­˜å¹¶æ²¡æœ‰è¿˜åŸå›å»ã€‚
    

### a) æ¨¡æ‹Ÿæµ‹è¯•

æˆ‘ä»¬å°è¯•ä½¿ç”¨åƒåœ¾ä»£ç å»æ¨¡æ‹Ÿä¸€æ¬¡æ€§å¤§è§„æ¨¡åœ°ç”³è¯·æŒæœ‰å†…å­˜

```C#
// æ¯å—é»˜è®¤ 16 MB
public static void BoostToTargetMB(int targetMB, int chunkSizeMB = 16)
{
    int bytesPerChunk = chunkSizeMB * 1024 * 1024;
    long targetBytes = (long)targetMB * 1024 * 1024;

    Debug.Log($"[ManagedHeapStressTest] Before: chunks={s_buffers.Count}, " +
              $"~{s_totalBytes / (1024f * 1024f):F1} MB");

    while (s_totalBytes < targetBytes)
    {
        try
        {
            var buf = new byte[bytesPerChunk];
            // é˜²æ­¢ä¼˜åŒ–
            buf[0]                 = 1;
            buf[bytesPerChunk - 1] = 1;

            s_buffers.Add(buf);
            s_totalBytes += bytesPerChunk;
        }
        catch (OutOfMemoryException)
        {
            Debug.LogError("[ManagedHeapStressTest] OOM when allocating. Current total MB: " +
                           (s_totalBytes / (1024f * 1024f)));
            break;
        }
    }

    Debug.Log($"[ManagedHeapStressTest] After: chunks={s_buffers.Count}, " +
              $"~{s_totalBytes / (1024f * 1024f):F1} MB");
}
```

### b) æµ‹è¯•ç»“æœ

Â Â å…¶ä¸­æˆ‘ä»¬æ¸…ç†å®Œåçš„å†…å­˜ç¢ç‰‡æƒ…å†µä¸æˆ‘ä»¬çš„é—®é¢˜æƒ…å†µçœ‹èµ·æ¥ä¸€æ¨¡ä¸€æ ·

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=MTdjYTE0ZjMxMDQ3ZTBkODQxZWQzMGFkNTc2ZmI3MTlfZ0Z6akVuWFRCU2pVYnlGbFlsSW5UQllHeVZXemhRSklfVG9rZW46TnRnQmJ5ZzhFb1J5Qlp4T0plYWNWN3N2blhjXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=ZjliOGNkZjY1MmMwM2I5ZGMyMDM4ZTNkMmZiZjYyMTFfNU1kTUtJVUtGZXg3UHRRd1BNZmRJamdlYW5sbmhtVlJfVG9rZW46WlNKSGJMemZKb01LZFJ4dGc3a2NFTWxKbm1oXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

Â Â è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œæœ‰å¤§é‡çš„ç¢ç‰‡å†…å­˜ï¼Œç¬¦åˆæˆ‘ä»¬ä¹‹å‰çš„é—®é¢˜çŠ¶å†µã€‚

Â Â è¯¦ç»†å¯¹æ¯”å†…å®¹ï¼Œæœ‰éœ€è¦çš„å¯ä»¥æŸ¥çœ‹è¯¦ç»†ç»†èŠ‚

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=YmRkNGVkMzk3NjdjNGNmMWJjZjIxOWJlOTk4NDk1MzFfR2dVOHpIRzhGMm1Ld044ZUVWcGFFYXRkSWtodGk2UFdfVG9rZW46R0tiYWJ3bGE1b3RRUkV4R3NJR2NHNGNlbjVjXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=NjdjOGQzYWNjOTRhNWFjN2ZkODNmODVmMjRlMTJhNGRfNkphdHFqc1hhVHdmUWJ1VWR1YTVOd01WYWFPZEdTVmJfVG9rZW46VVV5WWJETndxb1RMQTZ4UlBRYWNjb2hnbnJlXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=NmYxYTZjMGMxMzk2ZjI4NzdiYzBlNzI5OWI2ZTUzZTVfTkt3eFdGSkt1bHVMbGpGQmtoMjNGak14YzNqQzJ2QTRfVG9rZW46TmdZUWJuNUZEb2Q5Ym54NlhtNGNJSVpQbklmXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

### c) å†…å­˜å›æ”¶æµ‹è¯•

Â Â æˆ‘ä»¬äº§ç”Ÿäº†é‚£ä¹ˆå¤§ä¸€å—å†…å­˜ç¢ç‰‡ï¼Œé‚£ä¹ˆUnityæ˜¯å¦‚ä½•æ”¶å›çš„å‘¢ï¼Ÿ

Â Â æˆ‘ä»¬å°è¯•ä½¿ç”¨ä½¿ç”¨ä»£ç è¿›è¡ŒGC

```C#
GC.Collect();
GC.WaitForPendingFinalizers();
GC.Collect();
```

**é€šè¿‡ä»£ç æ‰‹åŠ¨è°ƒç”¨æ¸…ç†3æ¬¡ï¼ˆæ¯æ¬¡2GCï¼‰**

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=MWZkOThlNzFiZGM1MWM5ODE5ZTQ1Y2E2N2I0NmFjMzBfZkZLZ1ZtZkRJSGxGRmU5aTFHT0JLdzlUekFMOXc1eEFfVG9rZW46V0xzS2JMWERib0tZMUh4MFBaQ2NidzZJbkZkXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

**é€šè¿‡é¡¹ç›®å†…GC13æ¬¡**

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=ZWE2OTc1YTU4ZjI4ODhjZTdmZTBhZDRhYjVmODY0YWVfZXBSaXNTQ0JyZGtpM3BoYUlWSVd4VXZTS0VmVDlWWWpfVG9rZW46S015dGJhS01wb3JnbHB4YTBpVWNnbjZFbmlmXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

### d) å†…å­˜å›æ”¶ç›¸å…³èµ„æ–™æŸ¥æ‰¾

Â Â æ‰¾åˆ°çš„èµ„æ–™ï¼Œä»¥åŠUnityå®˜æ–¹æ–‡æ¡£,æ˜¾ç¤ºUnity Monoå¯¹å†…å­˜ç®¡ç†æœ‰ç€è‡ªå·±çš„æƒ³æ³•ï¼Œ**ä¸ä¼šç«‹åˆ»å›æ”¶éœ€è¦é‡Šæ”¾çš„å†…å­˜**ã€‚

> æ‰˜ç®¡å †æ˜¯è¢«Monoä½¿ç”¨çš„ä¸€éƒ¨åˆ†å†…å­˜ã€‚[Mono](http://www.mono-project.com/Main_Page)é¡¹ç›®ä¸€ä¸ªå¼€æºçš„.netæ¡†æ¶çš„ä¸€ç§å®ç°ï¼Œå¯¹äºUnityå¼€å‘ï¼Œå…¶å®å……å½“äº†åŸºæœ¬ç±»åº“çš„è§’è‰²ã€‚æ‰˜ç®¡å †ç”¨æ¥å­˜æ”¾ç±»çš„å®ä¾‹ï¼ˆæ¯”å¦‚ç”¨newç”Ÿæˆçš„åˆ—è¡¨ï¼Œå®ä¾‹ä¸­çš„å„ç§å£°æ˜çš„å˜é‡ç­‰ï¼‰ã€‚â€œæ‰˜ç®¡â€çš„æ„æ€æ˜¯Monoâ€œåº”è¯¥â€è‡ªåŠ¨åœ°æ”¹å˜å †çš„å¤§å°æ¥é€‚åº”ä½ æ‰€éœ€è¦çš„å†…å­˜ï¼Œå¹¶ä¸”å®šæ—¶åœ°ä½¿ç”¨åƒåœ¾å›æ”¶ï¼ˆGarbage Collectï¼‰æ¥é‡Šæ”¾å·²ç»ä¸éœ€è¦çš„å†…å­˜ã€‚å…³é”®åœ¨äºï¼Œæœ‰æ—¶å€™ä½ ä¼šå¿˜è®°æ¸…é™¤å¯¹å·²ç»ä¸éœ€è¦å†ä½¿ç”¨çš„å†…å­˜çš„å¼•ç”¨ï¼Œä»è€Œå¯¼è‡´Monoè®¤ä¸ºè¿™å—å†…å­˜ä¸€ç›´æœ‰ç”¨ï¼Œè€Œæ— æ³•å›æ”¶ã€‚[[7]](https://o455xcugsp.feishu.cn/docx/BvIddcy7poZepZxeqeocorQsnFc#doxcnktZIIMnD0FZ13ph1zW1mrd)
> 
> Unity åœ¨æ‰©å±•æ‰˜ç®¡å †æ—¶ï¼Œé€šå¸¸ä¸ä¼šé‡Šæ”¾å·²åˆ†é…çš„å†…å­˜é¡µï¼›**å³ä½¿å¤§éƒ¨åˆ†å†…å­˜ä¸ºç©ºï¼Œå®ƒä¹Ÿä¼šä¹è§‚åœ°ä¿ç•™æ‰©å±•åçš„å †**ã€‚è¿™æ ·åšæ˜¯ä¸ºäº†é¿å…åœ¨åç»­è¿›è¡Œå¤§å®¹é‡å†…å­˜åˆ†é…æ—¶éœ€è¦é‡æ–°æ‰©å±•å †ã€‚[[8]](https://o455xcugsp.feishu.cn/docx/BvIddcy7poZepZxeqeocorQsnFc#doxcn3et3AQWdCqAWx6akTmknBe)

Â Â å®˜æ–¹ç»™å‡ºçš„å’Œæˆ‘ä»¬èƒ½æ‰¾åˆ°çš„èµ„æ–™è¡¨é¢å¤§æ¦‚æ˜¯6~8æ¬¡ï¼ˆä»…ä¾›å‚è€ƒï¼‰

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=NmEzZWM0MDg1N2JhODFiYmExOTFlNDk3OWY1OWUyODJfTUw0QmhqZnFiV0Y0Y0cxcjRCZXRsR3lWYk5lN21kcm9fVG9rZW46QVlhOWJWNmVvb1BLUU54OHl3YWM0eFFXbm1nXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=ODg3ZWVlNTJjNDcyNDU3YWVkNGE3YmRmNTI1MDA2OTFfeEhJcGhUdWtRc2lzSTNzYm5rOGtUd2Z6UUJrd1ltanNfVG9rZW46VWRMQWJTSGhObzhSRUV4aDRwZWNkY1l3bm5mXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

å®˜æ–¹æåˆ°6æ¬¡ä½†æ˜¯è¢«åˆ’æ‰äº†[[9]](https://o455xcugsp.feishu.cn/docx/BvIddcy7poZepZxeqeocorQsnFc#doxcnX7jc4XaI84IgO38SmZ7g4e)

çŸ¥ä¹ç½‘å‹å†™äº†6æ¬¡ä½†æ²¡æœ‰å¼•ç”¨[[10]](https://o455xcugsp.feishu.cn/docx/BvIddcy7poZepZxeqeocorQsnFc#doxcnymKPNbIsiJUF1n66ynd1sc)

  

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=YjY4YzgxMjVjNjhjYjNlYzc1OWIyYTgzNDgxNzU3YWNfT1BCbDBKZEJtY3RYak5JaWJVRXlrWElpdHZZMjV6d2tfVG9rZW46V0tBZGJ0bHlZb3dkTnV4WG1DeGM5dDRvbmpiXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=Njg4MWUxZjZkNDRhZDVhMGM3NjFiOGE1ZGY5YWYyOGZfNW8ybE1COUFzYUlueFNrTlZlanUxQ3lCb09mRVBYOVFfVG9rZW46UzlqeWJLelBRbzQyeUN4TjNNemM3NWVqblFkXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

CSDNç½‘å‹è¯´8æ¬¡[[11]](https://o455xcugsp.feishu.cn/docx/BvIddcy7poZepZxeqeocorQsnFc#doxcnBvxtHZdXtGI6yar1TP2Ogb)

å¦ä¸€ä½çŸ¥ä¹ç½‘å‹è¯´6æ¬¡[[12]](https://o455xcugsp.feishu.cn/docx/BvIddcy7poZepZxeqeocorQsnFc#doxcnq0g72K3CEUiH5x4G6DUy3b)

5. ## é—®é¢˜æ’æŸ¥æ€»ç»“
    

### a) å†…å­˜é‡Šæ”¾æ€»ç»“

**ç»“è®ºï¼š**è¿™ä¸€éƒ¨åˆ†å†…å­˜ç¢ç‰‡å¯ä»¥è¢«é‡Šæ”¾å½’è¿˜ç»™ç³»ç»Ÿï¼Œä½†æ˜¯å¹¶ä¸ç¡®å®šä»€ä¹ˆæ—¶å€™ä¼šè¿˜

### b) å±•æœ›GCç­–ç•¥è°ƒæ•´

Â Â å¯¹äº `GC.WaitForPendingFinalizers();` çš„ä½¿ç”¨ï¼Œæœ‰æŒä¿ç•™æ„è§çš„[[13]](https://o455xcugsp.feishu.cn/docx/BvIddcy7poZepZxeqeocorQsnFc#doxcn2YOQCmCAIBZedqGeaGHG0f)

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=ZDg0YjMxN2QyYWJiMjhmNmU3YWEwMDg0NWQyYjIxYmNfQ3ZFUWh5M3E5RUJRWEhsUkVQenBNUW82ZmYydnhHeUNfVG9rZW46VTMwNGJJSzRSbzkySm14SDl0eGNNY2RObmRmXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

Â Â æ‰€ä»¥è¯´æˆ‘ä»¬è¦ä¸è¦è°ƒç”¨é€šè¿‡è¿™æ ·æ¿€è¿›åœ°GCï¼Œæ˜¯éœ€è¦ç»§ç»­æµ‹è¯•çœ‹çš„ã€‚

```C#
GC.Collect();
GC.WaitForPendingFinalizers();
GC.Collect();
```

# äº”ã€å¯»æ‰¾ç½ªé­ç¥¸é¦–ï¼ŒæŠ“å†…é¬¼

1. ## å¼‚å¸¸åˆ†æï¼Œå¯»æ‰¾å¯ç–‘ç‚¹
    
    Â Â é‚£ä¹ˆé€ æˆè¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Œæˆ‘ä»¬è¿›è¡Œäº†å¦‚ä¸‹åˆ†æ
    
    1. **æœ¬åœ°ç¼“å­˜å¼‚å¸¸**
        
        Â Â Â Â çœ‹äº†ä¸€ä¸‹æœ¬åœ°ç¼“å­˜å†…å®¹ï¼Œè™½ç„¶æŠ¥é”™äº†ï¼Œä½†æ˜¯å†…å®¹é‡ä¸å¤§ï¼Œç›´æ¥åŠ è½½å¹¶ä¸ä¼šé€ æˆ1ä¸ªGçš„å†…å­˜å¢é•¿
        
    2. **æ¸¸æˆå¡æ­»ç™»å½•ç•Œé¢ï¼ˆå­˜åœ¨é˜»å¡é—®é¢˜ï¼‰**
        
    
    Â Â æ¨¡æ‹Ÿå¯¹åº”çš„æŠ¥é”™ï¼Œé˜»å¡ç”¨æˆ·åœ¨ç™»å½•ç•Œé¢ï¼Œç»è¿‡æµ‹è¯•å¹¶æœªå¤ç°é—®é¢˜
    
    3. **å¤§é‡æ—¥å¿—æ‰“å°**
        
        Â Â Â Â æ¨¡æ‹Ÿå¤§é‡æ—¥å¿—æ‹¼æ¥ï¼Œå¤§é‡æ—¥å¿—è¾“å‡ºï¼Œè™½ç„¶å†…å­˜ç¢ç‰‡æœ‰ä¸Šæ¶¨ï¼Œä½†ç™¾ä¸‡çº§åˆ«çš„æ—¥å¿—å¯¹äºå†…å­˜ç¢ç‰‡çš„å¢é•¿è¿˜æ˜¯æœ‰äº›ï¼Œä¸è¶³ä»¥è¾¾åˆ°1Gçš„é‡
        
    4. **é‡å¤è¿›å…¥åå°ï¼Œè¿”å›å‰å°ï¼ˆè§¦å‘é‡æ–°æ‹‰å–å¤§é‡åè®®ï¼‰**
        
        Â Â Â Â æµ‹è¯•äº†åå¤è¿›å…¥åå°ï¼Œå†åˆ‡å›å‰å°ï¼Œè§¦å‘åè®®çš„é¢‘ç¹å‘é€å’Œæ”¶å–ï¼Œç»“æœå¯¹äºå†…å­˜ç¢ç‰‡çš„å½±å“å¾®ä¹å…¶å¾®
        
    5. **çƒ­æ›´æ–°**
        
    
    Â Â çœ‹æ—¥å¿—å¹¶ä¸å­˜åœ¨çƒ­æ›´æ–°
    
    6. **Shaderé¢„ç¼–è¯‘**
        
        Â Â Â Â ä¸å­˜åœ¨çƒ­æ›´æ–°è¯´æ˜è¿™ä¸ªåŒ…æ‰“å¼€è¿‡ï¼Œè‚¯å®šæ˜¯è¿›è¡Œè¿‡shaderç¼–è¯‘çš„ï¼Œä¸ºäº†ä¿é™©èµ·è§ä¹Ÿåœ¨æµ‹è¯•æœºä¸Šå®‰è£…äº†æ–°åŒ…è¿›è¡Œæµ‹è¯•ï¼Œå¹¶æ²¡æœ‰å¤ç°é—®é¢˜
        
    
    Â Â **åŸºäºæˆ‘ä»¬çš„æµ‹è¯•ï¼Œå¾—å‡ºä¸€ä¸ªå¤§è‡´çš„ç»“è®ºï¼Œè¿™ä¸ªé—®é¢˜ä¸æ˜¯ä¸€ä¸ªå¿…ç°çš„é—®é¢˜ã€‚è¿™ä¸ªåªå­˜åœ¨äºç‰¹å®šçš„æœºå‹ï¼Œå¯èƒ½ä¾èµ–äºç”¨æˆ·çš„æœ¬åœ°ç¯å¢ƒã€‚**
    

2. ## ä½¿ç”¨AIè¾…åŠ©åˆ†æï¼Œå¯»æ‰¾å¯ç–‘ç‚¹
    
    Â Â å› ä¸ºæˆ‘å¼€å‘ä½¿ç”¨çš„æ˜¯Jetbrainç³»åˆ—çš„IDEAï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨äº†é›†æˆçš„ [Junie](https://www.jetbrains.com/junie/) è¿›è¡Œè¾…åŠ©åˆ†æã€‚é€šè¿‡AIå¿«é€ŸæŸ¥æ‰¾ç­›é€‰ä»£ç ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå®šä½åˆ°å‡ ä¸ªæœ‰å¯èƒ½é€ æˆé—®é¢˜çš„åœ°æ–¹ï¼Œå¹¶è¿›ä¸€æ­¥æ·±å…¥ç ”ç©¶ã€‚
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=ZjE1NTY3ODNjYjM2YzZjNGI2MjJjNTIwZjE4MWMwZjZfMXBHdW1CRDFub05yRlhGckw1T2lVTzlTR2hIRVQ2djJfVG9rZW46Uml6VGJFVmNUb2ZjUnN4b29MUmNDV1BMbjZmXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    

3. ## å®šä½å¯ç–‘ä»£ç 
    
    Â Â è¿™æ ·çœ‹ä¸‹æ¥æˆ‘ä»¬çš„æœ¬åœ°ç¼“å­˜å¼‚å¸¸å°±å¯èƒ½å­˜åœ¨å·¨å¤§çš„ç–‘ç‚¹ï¼ŒæŠ˜å›å¤´çœ‹çœ‹å…·ä½“çš„ä»£ç é€»è¾‘
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=ODc3NWQ3OTZjOGQ4NmQyZmFlZmYyNWE1YWM0NzZhYzdfcmU5V0JZU25ha0RSNTk4TmdxQnRpalZYUHZhMTdmRnZfVG9rZW46RFhVRWJIMmhBb0xSN0J4dUxIcWNUUlZQbjBTXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    Â Â å›æœ›ä»£ç ï¼Œæˆ‘ä»¬çœ‹åˆ°è¿™é‡Œè§£å‹çš„æ—¶å€™ï¼Œä¼šæ‹¿å–å‰é¢4ä¸ªå­—èŠ‚ï¼Œè½¬æ¢ä¸ºåŸå§‹å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå½“é•¿åº¦å¼‚å¸¸çš„æ—¶å€™ï¼Œè¿™é‡Œä¼šè¢«é¢„å…ˆåˆ†é…ä¸€ä¸ªå·¨å¤§çš„ byteæ•°ç»„ï¼Œè¿™ä¸ªæ—¶å€™ä¼šæ’‘å¤§æˆ‘ä»¬çš„å†…å­˜ã€‚
    
      
    
    Â Â å¹¸å¥½æˆ‘ä»¬ä¿å­˜äº†å½“æ—¶çš„ç¼“å­˜è®°å½•ï¼ˆè¿™é‡Œä»…å±•ç¤ºæœ‰é—®é¢˜çš„iniï¼‰
    
    æš‚æ—¶æ— æ³•åœ¨é£ä¹¦æ–‡æ¡£å¤–å±•ç¤ºæ­¤å†…å®¹
    
    Â Â åŒæ—¶æˆ‘ä»¬é€šè¿‡ç›¸åŒçš„é€»è¾‘å¯¹æ–‡ä»¶è¿›è¡Œè§£å‹ï¼ŒåŒæ—¶æ‰“å°å‡ºå¯¹åº”çš„æ–‡ä»¶é•¿åº¦ä»¥åŠè½¬æ¢ä¸ºbyteæ•°ç»„åçš„é•¿åº¦
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=NzYwNzhjMTYxOTVmNDA0Y2FkNDk1Mzg3YmZkMjViMDBfelBmUDRTS0E4dlpPQjhwMlBLTjJkdk9tVDB3WTM0QXhfVG9rZW46TXVVOWJvY3M2b0Nwbk14WXJIQWN4aHZYbmVnXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    Â Â è¿™é‡Œå¾ˆæ˜æ˜¾çš„çœ‹åˆ°ï¼Œ**å› ä¸ºæ•°æ®é—®é¢˜å¯¼è‡´é¢„å…ˆåˆ†é…äº†å¾ˆå¤§çš„å†…å­˜**ï¼Œè¿™å°±æ˜¯å¯¼è‡´æˆ‘ä»¬æ¸¸æˆå†…å­˜è¢«æ’‘å¤§çš„å…·ä½“åŸå› 
    
    Â Â åç»­å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¥æµ‹è¯•ä¸€æ³¢
    

4. ## é—®é¢˜å®šä½
    
    æœ¬åœ°ç¼“å­˜ä½¿ç”¨åˆ°äº†**å‹ç¼©**å’Œ**è§£å‹ç¼©**ï¼Œ**å¤´éƒ¨4ä¸ªå­—èŠ‚å­˜å‚¨åŸæ•°æ®é•¿åº¦**ï¼Œå¦‚æœæ•°æ®è¢«æ±¡æŸ“äº†ï¼Œåˆ™å–å‡ºçš„æ•°æ®åŸé•¿åº¦ä¼šæœ‰å¼‚å¸¸ï¼ŒåŒæ—¶æˆ‘ä»¬å¹¶**æ²¡æœ‰å¯¹å¼‚å¸¸é•¿åº¦åšä¿æŠ¤**ï¼Œ**åˆ†é…äº†ä¸€å—å·¨å¤§çš„ç©ºé—´**ï¼Œ**å¯¼è‡´Unityçš„ç®¡ç†å †å†…å­˜éƒ¨åˆ†è¢«æ’‘å¤§äº†**ï¼Œåç»­**æ”¶ç¼©**èµ·æ¥å¾ˆ**æ¼«é•¿**ã€‚ä»è€Œè¡¨ç°ä¸ºUnityåº”ç”¨ä½¿ç”¨çš„å†…å­˜è¿‡å¤§ï¼Œè¾¾åˆ°äº†2Gçš„æƒ…å†µï¼Œå®é™…ä¸Šæœ‰1ä¸ªå¤šGçš„å†…å­˜æ˜¯æ²¡æœ‰è¢«ä½¿ç”¨åˆ°çš„ã€‚
    

# å…­ã€æ’æ›²ï¼Œç½‘ç»œæµ‹è¯•å¯¼è‡´å†…å­˜ç¢ç‰‡å¢åŠ é—®é¢˜

Â Â åœ¨åšæµ‹è¯•çš„æ—¶å€™ï¼Œå¹¿ä¸œçš„åŒ…ä½“æŒ‚æœºäº”ä¸ªå°æ—¶åå†…å­˜å¢å¤§äº†1ä¸ªGï¼Œæ‰€ä»¥é¡ºå¸¦æµ‹è¯•æ’æŸ¥äº†ä¸€ä¸‹çœ‹çœ‹æ˜¯å¦æ˜¯ä¸€æ ·çš„é—®é¢˜

Â Â **æµ‹è¯•é€»è¾‘ï¼š**åœ¨ç™»å½•ç•Œé¢æŒ‚æœºï¼Œåå°æœ‰åç¨‹åœ¨è·‘ï¼Œä¸åœåœ°å‘é€ç½‘ç»œåè®®ï¼Œå¯ä»¥çœ‹åˆ°å†…å­˜ç¢ç‰‡

Â Â **åˆ†æ”¯ï¼š** fix/fix_http

Â Â **åŒ…é“¾æ¥ï¼š**[android_custom_pg2 #310](http://192.168.4.14:8080/job/SeaWar/job/android_custom_pg2/310/)

Â Â åŸºäºä¸Šè¿°æµ‹è¯•ç¯å¢ƒï¼Œæµ‹å¾—åœ¨åŠä¸ªå°æ—¶å†…ï¼Œå†…å­˜å¢é•¿äº†176MBï¼Œè¿™ä¸ªæ˜¯å¾ˆå¼‚å¸¸çš„è¡¨ç°

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=YTFhNmUyNDU2NTIzNzZlNDk3OTI5YzBjMWViYTNmMTNfODhYSzBuc09ocGlvWEJVYzZZblVIRWYxcXlrSUxjeUVfVG9rZW46SFIyaWJQQjVQb2pQYlJ4akNWQ2N6SXYxbnRlXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

Â Â æ·±å…¥åˆ°å†…å­˜ä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œçš„å†…å­˜è¢«ç©åäº†ï¼Œåˆ‡å‰²å¾—ç¨€ç¢ï¼Œè€Œä¸”ä¸€ç›´åœ¨æŒæœ‰ï¼Œæ‰€ä»¥å¯¼è‡´æ— æ³•é‡Šæ”¾

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=ZTcyM2ZiYjI0MjgzYjkzMTZlMmE2MDE4ZGE2MmQ3MWRfVXFuOUFhNTRqU09nVmJ4bFd4VDFIWUVxNG9aRWY3b3hfVG9rZW46RVUxcWJObEVnb2I0TlV4UGUzMmNDUloyblhnXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)

Â Â è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œå› ä¸ºæµ‹è¯•æ—¶ç”¨åˆ°ä¸€äº›æ•°æ®ï¼Œä¼šåœ¨å †ä¸Šä¸åœåœ°ç”³è¯·å†…å­˜ï¼Œè¿™äº›å¤§å°éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œå¯¼è‡´ä¸èƒ½ä½¿ç”¨åˆ° TLSFï¼Œé€ æˆå†…å­˜ç¢ç‰‡ï¼Œè¿™é‡Œå¯èƒ½ä¹Ÿå’Œæµ‹è¯•ä»£ç éšä¾¿å†™çš„æœ‰å…³ç³»

# ä¸ƒã€å¼•ç”¨

Â Â [1] Unity Documentation(2025/10/7), _â€œManaged memoryâ€_, [Online] [docs.unity3d.com](http://docs.unity3d.com), Available: [https://docs.unity3d.com/2021.3/Documentation/Manual/performance-managed-memory.html](https://docs.unity3d.com/2021.3/Documentation/Manual/performance-managed-memory.html), Accessed: 2025/12/10

Â Â [2] Unity Manual(2023/10/18), _â€œFragmentation viewâ€_, [Online] [docs.unity3d.com](http://docs.unity3d.com), Available: [https://docs.unity3d.com/Packages/com.unity.memoryprofiler@0.7/manual/fragmentation-view.html](https://docs.unity3d.com/Packages/com.unity.memoryprofiler@0.7/manual/fragmentation-view.html), Accessed: 2025/12/10

Â Â [3] AndyBarnard(2022/6), _â€œMemory Profiler 1.0.0-pre.2 Releasedâ€_, [Online] [discussions.unity.com](http://discussions.unity.com), Available: [https://discussions.unity.com/t/memory-profiler-1-0-0-pre-2-released/885535](https://discussions.unity.com/t/memory-profiler-1-0-0-pre-2-released/885535), Accessed: 2025/12/10

Â Â [4] Unity(2024), _â€œWhat's new in version 1.0.0â€_, [Online] [docs.unity3d.com](http://docs.unity3d.com), Available: [https://docs.unity3d.com/Packages/com.unity.memoryprofiler%401.0/manual/whats-new.html](https://docs.unity3d.com/Packages/com.unity.memoryprofiler%401.0/manual/whats-new.html), Accessed: 2025/12/10

Â Â [5] Hack&Slash(2024/12/9), â€œ_Unity Memory Profiler 0.7åœ¨Report Managed Objectsä¸­å­˜åœ¨çš„bug_â€, [Online] [actrpg.wordpress.com](http://actrpg.wordpress.com), Available: [https://actrpg.wordpress.com/](https://actrpg.wordpress.com/), Accessed: 2025/12/10

Â Â [6] Unity Documentation(2025/10/7), â€œNative memoryâ€, [Online] [docs.unity3d.com](http://docs.unity3d.com), Available: [https://docs.unity3d.com/2021.3/Documentation/Manual/performance-native-allocators.html](https://docs.unity3d.com/2021.3/Documentation/Manual/performance-native-allocators.html), Accessed: 2025/12/10

Â Â [7] ç‹å·(2012/11/15), â€œUnity 3Dä¸­çš„å†…å­˜ç®¡ç†â€, [Online] [onevcat.com](http://onevcat.com), Available: [https://onevcat.com/2012/11/memory-in-unity3d/](https://onevcat.com/2012/11/memory-in-unity3d/), Accessed: 2025/12/11

Â Â [8] Unity Documentation(2021/2/24), â€œUnderstanding the managed heapâ€, [Online] [docs.unity3d.com](http://docs.unity3d.com), Available: [https://docs.unity3d.com/2020.1/Documentation/Manual/BestPracticeUnderstandingPerformanceInUnity4-1.html](https://docs.unity3d.com/2020.1/Documentation/Manual/BestPracticeUnderstandingPerformanceInUnity4-1.html), Accessed: 2025/12/11

Â Â [9] Marco Trivellato(2014/5/16), â€œUnity Internals: Memory and Performanceâ€, [Online] [slideshare.net](http://slideshare.net), Available: [https://www.slideshare.net/slideshow/unity-internals-memory-and-performance/35909332](https://www.slideshare.net/slideshow/unity-internals-memory-and-performance/35909332), Accessed: 2025/12/11

Â Â [10] æ‰‹è¾¹å¤•é˜³(2021/09/26), â€_è¯¦è§£GCï¼ˆä¸€ï¼‰ç†è®ºç¯‡_â€, [Online] [zhihu.com](http://zhihu.com), Avaliable: [https://zhuanlan.zhihu.com/p/377672271](https://zhuanlan.zhihu.com/p/377672271), Accessed: 2025/12/11

Â Â [11] å­™å¹¿ä¸œ(2018/5/26), â€œ_ä¸€ç¯‡æ–‡ç« è¯»æ‡‚Unityå†…å­˜ Understanding Memory on iOS_â€, [Online] [csdn.net](http://csdn.net), Avaliable: [https://blog.csdn.net/u010019717/article/details/80465361](https://blog.csdn.net/u010019717/article/details/80465361), Accessed: 2025/12/11

Â Â [12] ç‹æ±Ÿè£(2021/06/22), â€œUnityçš„å†…å­˜ç®¡ç†ä¸æ€§èƒ½ä¼˜åŒ–â€, [Online] [zhihu.com](http://zhihu.com), Avaliable: [https://zhuanlan.zhihu.com/p/362941227](https://zhuanlan.zhihu.com/p/362941227), Accessed: 2025/12/11

Â Â [13] é‡‘å£«é¡¿(2022/05/28). â€œ_c#å¼ºåˆ¶å›æ”¶å†…å­˜_â€, [Online] [csdn.net](http://csdn.net), Avaliable: [https://blog.csdn.net/wojiuguowei/article/details/125016932](https://blog.csdn.net/wojiuguowei/article/details/125016932) Accessed: 2025/12/11

# å…«ã€é¢å¤–æµ‹è¯•

1. ## æ¨¡æ‹Ÿåˆ†é…å›ºå®šé•¿åº¦ï¼ˆå•æ•°ç»„ï¼‰ä¸ä¸å›ºå®šé•¿åº¦ï¼ˆå¤šæ•°ç»„éšæœºï¼‰æ—¶çš„å†…å­˜è¡¨ç°
    
    Â Â åœ¨æµ‹è¯•çš„æ—¶å€™ï¼Œæ¨¡æ‹Ÿäº†åˆ†é…åŒä¸€ç§ç±»å‹çš„æ•°æ®ï¼Œä¸éšæœºåˆ†é…ä¸åŒç±»å‹çš„æ•°ç»„ï¼Œæµ‹è¯•ç»“æœç›¸ä¼¼ã€‚
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=YWYzNGZjZTJiZWNlNWM0M2RkODM2NDU0MTFhNDYwNGVfVXNKTXVXVlM0N0pjTXp1ZFdJendFb0FNZE94V2pzNlNfVG9rZW46TUJuV2JkWE5JbzVlUXd4UE01VmNTMUpMbm1jXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=MmViNGRmMmRkZGI5MmYwODEwZTg3OWQ4YmJkM2VjZTJfTnFrTmVoNXd6VWxnZVNYWHVxbmFrNVE2MW9uT2hoaWVfVG9rZW46UUhlYWJPQTZrb3lPOW14Y2ZKRGNoYURFbktnXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=NzIxNzc3YTU3OTliNjFhMDkwNGJjMGIyYzk3YjBjYTdfMjFPWEVLUkxIeHM5eWkwc0U1UUFGTjJBSkduSXhSa0tfVG9rZW46TVNDcGJSdUN4b1lXYzN4WmdhZWNCZHJObm9iXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    mix2s å•Arrayæµ‹è¯•
    
    mix2s å¤šArrayæµ‹è¯•
    
    pixel 8 å•Arrayæµ‹è¯•
    
    Â Â å”¯ä¸€æœ‰ä¸ªå¥‡æ€ªçš„åœ°æ–¹ï¼Œåœ¨çº¢ç±³9Aä¸Šï¼ŒMemory Profilerçš„ç»Ÿè®¡å‡ºç°äº†ä¸€äº›é—®é¢˜
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=ZTEwMDM4Y2YyZTU3N2ZkMGExNzE2MGM5ZGEzMTBlNGZfRGY0WUlYZTF5M25mcW5KODBSeWVpbHBEY0dBUW9yNTNfVG9rZW46VnhyWGJzc1dUb1ppNk54cDJYY2NQMjZzbjhnXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    
    çº¢ç±³9A å•Arrayæµ‹è¯•
    
    è¿™é‡Œæ¯”è¾ƒå¥‡æ€ª
    
    ä¸çŸ¥é“æ˜¯Unityçš„é—®é¢˜è¿˜æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œå¯¼è‡´è¿™é‡Œå†…å­˜ç»Ÿè®¡ä¸å‡†ç¡®ï¼Œè¿™é‡Œçœ‹åˆ°çš„å†…å­˜å¯èƒ½å­˜åœ¨è¯¯å¯¼ã€‚
    
    å…¶ä»–æœºå‹æ²¡æœ‰é—®é¢˜ï¼Œåªæœ‰ä½ç«¯æœº9Aå‡ºç°äº†å†…å­˜ç»Ÿè®¡ä¸æ­£ç¡®çš„é—®é¢˜
    

2. ## è·¨åŸŸè°ƒç”¨CSä¾§ï¼Œprintä¸€äº›æ—¥å¿—
    
    Â Â é€šè¿‡ 1,000,000æ¬¡æµ‹è¯•ï¼Œå¢å¹…æœ‰é™ï¼Œä¸ä¼šæ„æˆå·¨å¤§çš„å†…å­˜ç¢ç‰‡ï¼Œä½†æ˜¯ä¹Ÿè¦æ³¨æ„
    
    ```Lua
    local totalLogs = 1000000
    for i = 1, totalLogs do
        LuaHelper.PrintMemoryInfo()
    end
    ```
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=OTlmN2NiNDA2NjJmMGI1MTljNDZhODk4Njc0MjVjNzFfdVhpZ0MzZGQ1MzVzaFZ4S3NxbjFKQkViOXFiTnF1MHJfVG9rZW46TzlyQ2JpNkxIb000WXZ4R1Q0bWNDdHBhbjdkXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    

3. ## luaä¾§è·¨åŸŸè°ƒç”¨CSä¾§è·å–å€¼ï¼Œluaä¾§æ‹¼æ¥å­—ç¬¦ä¸²è¾“å‡º
    
    Â Â é€šè¿‡ 1,000,000æ¬¡æµ‹è¯•ï¼Œå¢å¹…æœ‰é™ï¼Œä¸ä¼šæ„æˆå·¨å¤§çš„å†…å­˜ç¢ç‰‡ï¼Œä½†æ˜¯ä¹Ÿè¦æ³¨æ„
    
    ```Lua
    local totalLogs = 1000000
    local base = "LuaLogTest_"
    local msg = base
    
    local t0 = CS.UnityEngine.Time.realtimeSinceStartup
    
    for i = 1, totalLogs do
        -- æ¯æ¬¡æ‹¼ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼ˆåˆ¶é€ æ‰˜ç®¡å­—ç¬¦ä¸²åˆ†é…ï¼‰
        msg = base .. i .. "_" .. tostring(CS.UnityEngine.Time.realtimeSinceStartup)
        logInfo(msg)
    end
    
    local t1 = CS.UnityEngine.Time.realtimeSinceStartup
    log(string.format("[MemStress_Log] total=%d, cost=%.3fs", totalLogs, t1 - t0))
    ```
    
    ![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=YTNmNDFiOTU3ZTEzNTA3ZTNlM2ZkNDI1NWQwM2QzYWJfV3NiMmMzVW44SG52a0haazR1cTBOV3lSMjlFQUZXY2JfVG9rZW46VkhMbWJJQk0yb0R0SWF4SHBwOWNpSEpzblhjXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
    

# ä¹ã€æœªä½¿ç”¨åˆ°çš„å‚è€ƒèµ„æ–™

Â Â ä»¥ä¸‹åˆ—å‡ºäº†ä¸€äº›åœ¨åˆ†æé—®é¢˜æ—¶æ‰¾åˆ°çš„ä¸é”™çš„èµ„æ–™ï¼Œè¿™é‡Œæ²¡æœ‰ç›´æ¥å¼•ç”¨ï¼Œä½†æ˜¯å¯ä»¥ä½œä¸ºæ‹“å±•é˜…è¯»ã€‚

Â Â Memory Management in Unity

Â Â [https://www.youtube.com/watch?v=-mxixc0q2wk](https://www.youtube.com/watch?v=-mxixc0q2wk)

  

Â Â æ´»ç€å°±å¥½å•¦ï¼ˆ2024å¹´6æœˆ30æ—¥ï¼‰ æµ…è°ˆUnityå†…å­˜ç®¡ç†

Â Â [https://zhuanlan.zhihu.com/p/706161825](https://zhuanlan.zhihu.com/p/706161825)

  

Â Â ç‹æ±Ÿè£ï¼ˆ2021å¹´6æœˆ19æ—¥ï¼‰ã€ç¬”è®°ã€‘Unityå†…å­˜åˆ†é…å’Œå›æ”¶çš„åº•å±‚åŸç†

Â Â [https://zhuanlan.zhihu.com/p/381859536](https://zhuanlan.zhihu.com/p/381859536)

  

Â Â ç‹æ±Ÿè£ï¼ˆ2021å¹´6æœˆ22æ—¥ï¼‰ Unityçš„å†…å­˜ç®¡ç†ä¸æ€§èƒ½ä¼˜åŒ–

Â Â [https://zhuanlan.zhihu.com/p/362941227](https://zhuanlan.zhihu.com/p/362941227)

  

Â Â Testplus ï¼ˆ2018å¹´8æœˆ6æ—¥ï¼‰è§£è¯»MONOå†…å­˜ç®¡ç†å’Œå›æ”¶

Â Â [https://zhuanlan.zhihu.com/p/41023320](https://zhuanlan.zhihu.com/p/41023320)

  

Â Â [Unity æ´»åŠ¨]-æµ…è°ˆUnityå†…å­˜ç®¡ç†

Â Â [https://www.bilibili.com/video/BV1aJ411t7N6/](https://www.bilibili.com/video/BV1aJ411t7N6/)

  

Â Â ã€åšç§¯è–„å‘ã€‘å¦‚ä½•å‡å°‘æ‰˜ç®¡å †å†…å­˜ç¢ç‰‡

Â Â [https://mp.weixin.qq.com/s/qSljuSAoMHJP71_uyIgGMw](https://mp.weixin.qq.com/s/qSljuSAoMHJP71_uyIgGMw)

  

Â Â Unity å†…å­˜åˆ†é…è®¾ç½®ï¼Œä¸€èˆ¬ä¸è¦å»ä¿®æ”¹

![](https://o455xcugsp.feishu.cn/space/api/box/stream/download/asynccode/?code=MjNkY2Y1MTQ2M2QwMzhjOTQ1ODQ1NjNiMDBkYTc5YmZfSEdJaDN0YldxWEZvbXBIVktGTWFITjdUN0hDVVBycEdfVG9rZW46VjRoaWJ0eVlIb3FTeWN4SllPT2NMQzNwbnpjXzE3NzAxODkxNDY6MTc3MDE5Mjc0Nl9WNA)
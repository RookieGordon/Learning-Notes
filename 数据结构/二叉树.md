---
tags:
  - 数据结构
  - 二叉树
  - 满二叉树
  - 完全二叉树
  - 平衡二叉树
---
# 树的基本属性

1、节点的度与树的度 
	树中一个节点的子节点的个数称为该**节点的度**。  树中节点的最大度数称为**树的度**。

2、如果一棵树有N个节点，那么就会有N-1个链接。除了根节点，每个节点都有一个传入链接(边/箭头)。

3、树的高度和深度
	一个节点的深度就是从根节点到该节点的路径长度，也就是箭头个数。根节点的深度定义为0。
	一个节点的高度就是从该节点到一个叶子节点的最长路径。叶子节点的高度为0。
	树的高度也就是根节点的高度。

# 二叉树

每个节点，最多只能有两个子节点的树。

## 二叉树的性质

性质1：**在二叉树的第i层上至多有$2^{i-1}$个结点（i>=1）。**

性质2：**深度为k的二叉树至多有$2^k-1$个结点（k>=1）。**

性质3：**对于任何一颗二叉树T，如果其终端结点数为$n_{0}$，度为2的结点数为$n_{2}$，则$n_{0}=n_{2}+1$。**
如下图的例子，结点数为10，他是由A,B,C,D等度为2结点，F,G,H,I,J等度为0的叶子结点和E这个度为1的结点组成。总和为4+1+5=10。  
![在这里插入图片描述|420](https://img-blog.csdnimg.cn/20200619174742807.png#pic_center)

性质4：**具有n个节点的完全二叉树深为$\log_{2}{x} + 1$（其中x表示不大于n的最大整数）。**

性质5：如果对一颗有n个结点的完全二叉树（其深度为$\left \lfloor \log_{2}{x} + 1 \right \rfloor$）的结点按层序编号（从第一层到$\left \lfloor \log_{2}{x} + 1 \right \rfloor$层，每层从左到右），对任一结点i（1<=i<=n）:
（1）如果i=1，则结点i是二叉树的根，无双亲，如果i>1,则其双亲结点是结点$\left \lfloor \frac{i}{2} \right \rfloor$
（2）如果2i>n，则结点i无左孩子（结点i为叶子结点）否则左孩子是结点2i。
（3）如果2i+1>n,则结点i无右孩子，否则其右孩子是结点2i+1.

## 满二叉树和完全二叉树

满二叉树：指的是深度为k且含有$2^k-1$个结点的二叉树。
![[（图解4）满二叉树.png|400]]
完全二叉树是由满二叉树而引出来的，若设二叉树的`深度为h`，`除第 h 层外`，`其它各层 (1～h-1) 的结点数都达到最大个数(即1~h-1层为一个满二叉树)`，第 h 层所有的结点都连续集中在最左边，这就是完全二叉树。
![[（图解5）完全二叉树.png|520]]

## 平衡二叉树

平衡的概念：结点的平衡因子 = 结点的左子树深度 — 结点的右子树深度。若平衡因子的取值为-1、0或1时**，该节点是**平衡**的，否则是**不平衡**的。

平衡二叉树也叫AVL树，它或者是一颗空树，或者具有以下性质的二叉排序树：它的左子树和左子树的高度之差(平衡因子)的绝对值不超过1，且它的左子树和右子树都是一颗平衡二叉树。

### 旋转：

由于平衡因子不平衡，所以引入了旋转的概念，来使得二叉树平衡

#### 最简单的四种旋转情况

##### LL旋转

由于10的左孩子的高度为2，右孩子高度为0，平衡因子为2，二叉树不平衡，需要进行旋转操作，如何旋转？

将10节点进行**左旋操作**，类似于将10节点**顺时针旋转**。  
![在这里插入图片描述|560](https://img-blog.csdnimg.cn/ea0e9b66a0544dceac8b362985ecc38b.png)

##### RR旋转

由于10的右孩子的高度为2，左孩子高度为0，平衡因子为 -2，二叉树不平衡，需要进行旋转操作

将10节点进行**右旋操作**，类似于将10节点**逆时针旋转**。

![在这里插入图片描述|570](https://img-blog.csdnimg.cn/39e5bba6988142ae95098712001b6b6a.png)

##### LR旋转

先将9节点进行左旋操作，让8节点成为9的左孩子；再进行一次右旋操作，9成为根节点  
![在这里插入图片描述|580](https://img-blog.csdnimg.cn/155d4f01545046ccb32e75fdbf385114.png)

##### RL旋转

先将9节点进行右旋操作，10节点成为9的右孩子；再进行一次左旋操作，9成为根节点  
![在这里插入图片描述|590](https://img-blog.csdnimg.cn/c7fb85c6bd9a47bbb390ffe4fda8d435.png)

#### 较复杂的四种旋转情况

##### LL旋转

> 当添加的新节点成为最小不平衡树的**左孩子的左子树**时产生：

规划可知8节点应为根节点；

旋转过程：

1. 根节点12右旋转（顺时针）成为8节点的右孩子。
2. 8节点的右孩子成为12的左孩子。
3. 8节点成为新的根节点。  
    ![在这里插入图片描述|480](https://img-blog.csdnimg.cn/249f5d1f4da342fda58d198a08e2a73d.png)

##### RR旋转

> 当添加的新节点成为最小不平衡树的**右孩子的右子树**时产生：

规划可知8应为新的根节点：

旋转过程：

1. 根节点6左旋转（逆时针），成为8的左孩子。
2. 8的左孩子成为6节点的右孩子。
3. 8成为新的根节点。  
    ![在这里插入图片描述](https://img-blog.csdnimg.cn/7ad98dcdaee9415bbd33d3dcb6c061a0.png)
##### LR旋转

> 当添加的新节点成为最小不平衡树的**左孩子的右子树**时产生：

规划可知，7应该成为新的根节点

旋转过程：

1. 7节点**左旋**成为10的相邻左孩子。
2. 6节点成为7节点的左孩子。
3. 根节点**右旋**成为7节点的相邻右孩子。
4. 7节点的右孩子成为10节点的左孩子。
5. 7节点成为新的根节点  
    ![在这里插入图片描述](https://img-blog.csdnimg.cn/fd850afcea344363b90dc60b8cb9137d.png)
##### RL旋转

> 当添加的新元素成为最小不平衡树的**右孩子的左子树**时产生：

7应该成为根节点

旋转过程：

1. 7节点**右旋**成为根节点的相邻右孩子。
2. 8节点成为7节点的右孩子。
3. 根节点**左旋**成为7的相邻左孩子。
4. 7节点的左孩子成为4节点的右孩子。
5. 7成为新的根节点。  
    ![在这里插入图片描述](https://img-blog.csdnimg.cn/0b0976ebbd954c2ba92166b76de39ff7.png)

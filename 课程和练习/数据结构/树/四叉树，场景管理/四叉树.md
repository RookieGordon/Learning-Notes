---
tags:
  - 四叉树
---

```cardlink
url: https://www.cnblogs.com/KillerAery/p/10878367.html
title: "空间数据结构(四叉树/八叉树/BVH树/BSP树/k-d树) - KillerAery - 博客园"
description: "前言： 在游戏程序中，利用空间数据结构加速计算往往是非常重要的优化思想，空间数据结构可以应用于场景管理、渲染、物理、游戏逻辑等方面。 因此，博主将游戏程序中常用的几个空间数据结构整理出这篇笔记，也会持续更新下去，有错误或有未及之处望指出。 四叉树/八叉树 (Quadtree/Octree) 四叉树索"
host: www.cnblogs.com
favicon: https://assets.cnblogs.com/favicon_v3_2.ico
```

```cardlink
url: https://github.com/futurechris/QuadTree
title: "GitHub - futurechris/QuadTree: A C# QuadTree implementation specifically designed for testing AABB collisions in 2D space."
description: "A C# QuadTree implementation specifically designed for testing AABB collisions in 2D space. - futurechris/QuadTree"
host: github.com
favicon: https://github.githubassets.com/favicons/favicon.svg
image: https://opengraph.githubassets.com/aaed87b3158ceff6871ed6cc2cf838bed88d42f66edb905495010dec333a20cd/futurechris/QuadTree
```

```cardlink
url: https://blog.csdn.net/zhouxuguang236/article/details/12312099
title: "四叉树空间索引原理及其实现_4叉树-CSDN博客"
description: "文章浏览阅读10w+次，点赞40次，收藏241次。四叉树索引的基本思想是将地理空间递归划分为不同层次的树结构。它将已知范围的空间等分成四个相等的子空间，如此递归下去，直至树的层次达到一定深度或者满足某种要求后停止分割。四叉树的结构比较简单，并且当空间数据对象分布比较均匀时，具有比较高的空间数据插入和查询效率，因此四叉树是GIS中常用的空间索引之一。常规四叉树的结构如图所示，地理空间对象都存储在叶子节点上，中间节点以及根节点不存储地理空间对象。_4叉树"
host: blog.csdn.net
```

```cardlink
url: https://www.cnblogs.com/heitao/p/8052716.html
title: "[译]2D空间中使用四叉树Quadtree进行碰撞检测优化 - 黑桃花 - 博客园"
description: "操作系统:Windows8.1 显卡:Nivida GTX965M 开发工具：Unity2017.2.0f3 原文出处 ：&#160;Quick Tip: Use Quadtrees to Detect Likely Collisions in 2D Space 许多游戏需要使用碰撞检测算法去判定两"
host: www.cnblogs.com
favicon: https://assets.cnblogs.com/favicon_v3_2.ico
```

```cardlink
url: https://blog.csdn.net/weixin_35748962/article/details/142347859?ops_request_misc=%257B%2522request%255Fid%2522%253A%252238898097de7e8ade9e1b0b22cd54f2cf%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=38898097de7e8ade9e1b0b22cd54f2cf&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-4-142347859-null-null.142^v101^pc_search_result_base1&utm_term=%E5%9B%9B%E5%8F%89%E6%A0%91&spm=1018.2226.3001.4187
title: "四叉树的数据结构与应用详解-CSDN博客"
description: "文章浏览阅读2k次，点赞30次，收藏19次。本文还有配套的精品资源，点击获取   简介：四叉树是一种特殊的树形数据结构，常用于图像处理和地理信息系统等二维空间数据的组织。每个节点有四个子节点，分别对应四个象限。本文详细解释了四叉树的概念、类型、操作和应用场景。通过学习四叉树的基本定义和常见操作，包括插入、删除、搜索和层次遍历，读者将能理解其在图像处理、地理信息系统、文件系统和排序查找等领域的应用。同时，文中还探讨了四叉树..._四叉树"
host: blog.csdn.net
```

```cardlink
url: https://github.com/justcoding121/Advanced-Algorithms/blob/develop/src/Advanced.Algorithms/DataStructures/Tree/QuadTree.cs
title: "advanced-algorithms/src/Advanced.Algorithms/DataStructures/Tree/QuadTree.cs at develop · justcoding121/advanced-algorithms"
description: "100+ algorithms & data structures generically implemented in C# - justcoding121/advanced-algorithms"
host: github.com
favicon: https://github.githubassets.com/favicons/favicon.svg
image: https://opengraph.githubassets.com/28800bd60205634d16a9ef52519683577f31c5026e0562a74144990f4d34ba35/justcoding121/advanced-algorithms
```

```cardlink
url: https://github.com/pvigier/Quadtree/tree/master
title: "GitHub - pvigier/Quadtree: A simple and modern C++ quadtree implementation"
description: "A simple and modern C++ quadtree implementation. Contribute to pvigier/Quadtree development by creating an account on GitHub."
host: github.com
favicon: https://github.githubassets.com/favicons/favicon.svg
image: https://opengraph.githubassets.com/90251606843de312c2d179748774e114e2fb4bdf6899d86c55f112d4846d603f/pvigier/Quadtree
```
# 四叉树
## 如何设计一个树的数据结构
### 树的存储
一般来说有两种方式：
- 专门设计一个树的对象，里面包含一个树的根节点
- 一个树，就直接采用其根节点
### 树的节点
树的节点有两部分组成——数据域和关系域
- 数据域，用于存储节点的数据
- 关系域，用于存储节点和树的关系，比如`Parent`，`Children`，`Depth`等

# 四叉树场景管理
四叉树索引的基本思想是将地理空间递归划分为不同层次的树结构。它将已知范围的空间等分成四个相等的子空间，如此递归下去，直至树的层次达到一定深度或者满足某种要求后停止分割。四叉树的结构比较简单，并且当空间数据对象分布比较均匀时，具有比较高的空间数据插入和查询效率，因此四叉树是GIS中常用的空间索引之一。常规四叉树的结构如图所示，地理空间对象都存储在叶子节点上，中间节点以及根节点不存储地理空间对象。
![[（图解1）四叉树示意图.png|430]]
## 四叉树构建思路
构建思路详见：[[四叉树构建思路]]。这其中，主要考虑的点有：
- 采用数组而非链表，是考虑到大量的子节点，会造成内存碎片化程度变高，降低效率
- 管理器中的交换方法，是为了将使用和没被使用的数组元素进行重组，使得标记为使用的元素都排在前面，方便查找。
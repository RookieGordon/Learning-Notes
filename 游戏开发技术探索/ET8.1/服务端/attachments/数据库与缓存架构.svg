<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" style="background: transparent; background-color: transparent; color-scheme: light dark;" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1995px" height="1196px" viewBox="0 0 1995 1196" content="&lt;mxfile host=&quot;app.diagrams.net&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36&quot; version=&quot;29.4.0&quot;&gt;&#10;  &lt;diagram name=&quot;第 1 页&quot; id=&quot;7Ql4cU-lQ0gJphwYXRiH&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;1152&quot; dy=&quot;795&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;827&quot; pageHeight=&quot;1169&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-1&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;fillColor=#d80073;fontColor=#ffffff;strokeColor=#A50040;&quot; value=&quot;序列化桥梁&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;552&quot; width=&quot;317&quot; x=&quot;20&quot; y=&quot;381&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-2&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;Entity 树 (内存 = 缓存)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;1194&quot; width=&quot;499&quot; x=&quot;1514&quot; y=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-3&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;DBComponent (数据库访问层)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;552&quot; width=&quot;598&quot; x=&quot;357&quot; y=&quot;381&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-4&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;MongoDB (持久层)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;552&quot; width=&quot;520&quot; x=&quot;974&quot; y=&quot;381&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-5&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;Collection: ET.Player&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;54&quot; width=&quot;209&quot; x=&quot;1009&quot; y=&quot;818&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-6&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;Collection: ET.Unit&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;54&quot; width=&quot;194&quot; x=&quot;1137&quot; y=&quot;442&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-7&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;Collection: ET.XXX&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;54&quot; width=&quot;191&quot; x=&quot;1268&quot; y=&quot;818&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-8&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;DBManagerComponent&amp;#xa;(挂在 Scene 上)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;78&quot; width=&quot;220&quot; x=&quot;556&quot; y=&quot;430&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-9&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;DBComponent Zone=1&amp;#xa;MongoClient + IMongoDatabase&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;78&quot; width=&quot;260&quot; x=&quot;392&quot; y=&quot;606&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-10&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;DBComponent Zone=2&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;54&quot; width=&quot;217&quot; x=&quot;702&quot; y=&quot;618&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-11&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;CoroutineLock&amp;#xa;id % 32 分桶串行&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;78&quot; width=&quot;178&quot; x=&quot;432&quot; y=&quot;806&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-12&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;Scene (Root)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;54&quot; width=&quot;151&quot; x=&quot;1718&quot; y=&quot;45&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-13&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;PlayerComponent&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;54&quot; width=&quot;186&quot; x=&quot;1590&quot; y=&quot;149&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-14&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;Player (Entity)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;54&quot; width=&quot;164&quot; x=&quot;1601&quot; y=&quot;253&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-15&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;BagComponent&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;54&quot; width=&quot;167&quot; x=&quot;1638&quot; y=&quot;442&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-16&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;UnitComponent&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;54&quot; width=&quot;172&quot; x=&quot;1805&quot; y=&quot;818&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-17&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;Unit (Entity)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;54&quot; width=&quot;149&quot; x=&quot;1695&quot; y=&quot;1007&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-18&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;NumericComponent&amp;#xa;[ITransfer]&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;78&quot; width=&quot;201&quot; x=&quot;1549&quot; y=&quot;1111&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-19&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;MoveComponent&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;54&quot; width=&quot;178&quot; x=&quot;1801&quot; y=&quot;1123&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-20&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;BeginInit()&amp;#xa;components(Dict)&amp;#xa;→ 过滤 ISerializeToEntity&amp;#xa;→ componentsDB(List)&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;126&quot; width=&quot;242&quot; x=&quot;57&quot; y=&quot;406&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-21&quot; parent=&quot;1&quot; style=&quot;whiteSpace=wrap;strokeWidth=2;&quot; value=&quot;IScene setter&amp;#xa;componentsDB(List)&amp;#xa;→ components(Dict)&amp;#xa;→ 触发 DeserializeSystem&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry height=&quot;126&quot; width=&quot;247&quot; x=&quot;55&quot; y=&quot;782&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-22&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-12&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.12;exitY=1;entryX=0.5;entryY=0;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-13&quot; value=&quot;&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1683&quot; y=&quot;124&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-23&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-13&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-14&quot; value=&quot;&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-24&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-14&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.6;exitY=1;entryX=0.5;entryY=0;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-15&quot; value=&quot;&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1721&quot; y=&quot;344&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-25&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-12&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.84;exitY=1;entryX=0.5;entryY=0;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-16&quot; value=&quot;&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1891&quot; y=&quot;124&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-26&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-16&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.85;entryY=0;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-17&quot; value=&quot;&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1891&quot; y=&quot;970&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-27&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-17&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.08;exitY=1;entryX=0.5;entryY=0;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-18&quot; value=&quot;&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1650&quot; y=&quot;1086&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-28&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-17&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.92;exitY=1;entryX=0.5;entryY=0;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-19&quot; value=&quot;&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1890&quot; y=&quot;1086&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-29&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-8&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.24;exitY=1;entryX=0.5;entryY=0;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-9&quot; value=&quot;&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;522&quot; y=&quot;569&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-30&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-8&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.75;exitY=1;entryX=0.5;entryY=0;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-10&quot; value=&quot;&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;810&quot; y=&quot;569&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-31&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-9&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-11&quot; value=&quot;&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-32&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-14&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.4;exitY=1;entryX=1;entryY=0.44;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-20&quot; value=&quot;DB.Save(player)&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1644&quot; y=&quot;344&quot; /&gt;&#10;              &lt;mxPoint x=&quot;1644&quot; y=&quot;381&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-33&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-20&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0;entryY=0.13;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-9&quot; value=&quot;Bson 序列化&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;178&quot; y=&quot;569&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-34&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-9&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.87;exitY=1;entryX=0.07;entryY=0;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-5&quot; value=&quot;ReplaceOne&amp;#xa;Upsert&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;738&quot; y=&quot;733&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-35&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-6&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=1;entryY=0.32;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-9&quot; value=&quot;DB.Query(id)&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1234&quot; y=&quot;569&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-36&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-9&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.36;exitY=1;entryX=1;entryY=0.08;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-21&quot; value=&quot;Bson 反序列化&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;439&quot; y=&quot;733&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9S7uowwRyqX5EaLhRDso-37&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;9S7uowwRyqX5EaLhRDso-21&quot; style=&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.06;entryY=0;rounded=0;&quot; target=&quot;9S7uowwRyqX5EaLhRDso-17&quot; value=&quot;恢复实体树&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;178&quot; y=&quot;933&quot; /&gt;&#10;              &lt;mxPoint x=&quot;1612&quot; y=&quot;970&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;"><defs/><g><g data-cell-id="0"><g data-cell-id="1"><g data-cell-id="9S7uowwRyqX5EaLhRDso-1"><g><rect x="1" y="362" width="317" height="552" fill="#d80073" stroke="#a50040" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(216, 0, 115), rgb(255, 144, 243)); stroke: light-dark(rgb(165, 0, 64), rgb(255, 169, 224));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 315px; height: 1px; padding-top: 638px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #ffffff; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#ffffff, #121212); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">序列化桥梁</div></div></div></foreignObject><text x="160" y="642" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">序列化桥梁</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-2"><g><rect x="1495" y="1" width="499" height="1194" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 497px; height: 1px; padding-top: 598px; margin-left: 1496px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Entity 树 (内存 = 缓存)</div></div></div></foreignObject><text x="1745" y="602" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Entity 树 (内存 = 缓存)</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-3"><g><rect x="338" y="362" width="598" height="552" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 596px; height: 1px; padding-top: 638px; margin-left: 339px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">DBComponent (数据库访问层)</div></div></div></foreignObject><text x="637" y="642" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">DBComponent (数据库访问层)</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-4"><g><rect x="955" y="362" width="520" height="552" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 518px; height: 1px; padding-top: 638px; margin-left: 956px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">MongoDB (持久层)</div></div></div></foreignObject><text x="1215" y="642" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">MongoDB (持久层)</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-5"><g><rect x="990" y="799" width="209" height="54" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 207px; height: 1px; padding-top: 826px; margin-left: 991px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Collection: ET.Player</div></div></div></foreignObject><text x="1095" y="830" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Collection: ET.Player</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-6"><g><rect x="1118" y="423" width="194" height="54" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 192px; height: 1px; padding-top: 450px; margin-left: 1119px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Collection: ET.Unit</div></div></div></foreignObject><text x="1215" y="454" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Collection: ET.Unit</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-7"><g><rect x="1249" y="799" width="191" height="54" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 189px; height: 1px; padding-top: 826px; margin-left: 1250px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Collection: ET.XXX</div></div></div></foreignObject><text x="1345" y="830" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Collection: ET.XXX</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-8"><g><rect x="537" y="411" width="220" height="78" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 450px; margin-left: 538px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">DBManagerComponent<br />(挂在 Scene 上)</div></div></div></foreignObject><text x="647" y="454" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">DBManagerComponent...</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-9"><g><rect x="373" y="587" width="260" height="78" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 626px; margin-left: 374px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">DBComponent Zone=1<br />MongoClient + IMongoDatabase</div></div></div></foreignObject><text x="503" y="630" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">DBComponent Zone=1...</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-10"><g><rect x="683" y="599" width="217" height="54" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 215px; height: 1px; padding-top: 626px; margin-left: 684px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">DBComponent Zone=2</div></div></div></foreignObject><text x="792" y="630" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">DBComponent Zone=2</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-11"><g><rect x="413" y="787" width="178" height="78" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 176px; height: 1px; padding-top: 826px; margin-left: 414px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">CoroutineLock<br />id % 32 分桶串行</div></div></div></foreignObject><text x="502" y="830" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">CoroutineLock...</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-12"><g><rect x="1699" y="26" width="151" height="54" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 149px; height: 1px; padding-top: 53px; margin-left: 1700px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Scene (Root)</div></div></div></foreignObject><text x="1775" y="57" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Scene (Root)</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-13"><g><rect x="1571" y="130" width="186" height="54" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 157px; margin-left: 1572px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">PlayerComponent</div></div></div></foreignObject><text x="1664" y="161" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">PlayerComponent</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-14"><g><rect x="1582" y="234" width="164" height="54" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 162px; height: 1px; padding-top: 261px; margin-left: 1583px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Player (Entity)</div></div></div></foreignObject><text x="1664" y="265" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Player (Entity)</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-15"><g><rect x="1619" y="423" width="167" height="54" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 165px; height: 1px; padding-top: 450px; margin-left: 1620px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">BagComponent</div></div></div></foreignObject><text x="1703" y="454" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">BagComponent</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-16"><g><rect x="1786" y="799" width="172" height="54" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 170px; height: 1px; padding-top: 826px; margin-left: 1787px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">UnitComponent</div></div></div></foreignObject><text x="1872" y="830" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">UnitComponent</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-17"><g><rect x="1676" y="988" width="149" height="54" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 147px; height: 1px; padding-top: 1015px; margin-left: 1677px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Unit (Entity)</div></div></div></foreignObject><text x="1751" y="1019" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Unit (Entity)</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-18"><g><rect x="1530" y="1092" width="201" height="78" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 199px; height: 1px; padding-top: 1131px; margin-left: 1531px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">NumericComponent<br />[ITransfer]</div></div></div></foreignObject><text x="1631" y="1135" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">NumericComponent...</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-19"><g><rect x="1782" y="1104" width="178" height="54" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 176px; height: 1px; padding-top: 1131px; margin-left: 1783px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">MoveComponent</div></div></div></foreignObject><text x="1871" y="1135" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">MoveComponent</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-20"><g><rect x="38" y="387" width="242" height="126" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 240px; height: 1px; padding-top: 450px; margin-left: 39px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">BeginInit()<br />components(Dict)<br />→ 过滤 ISerializeToEntity<br />→ componentsDB(List)</div></div></div></foreignObject><text x="159" y="454" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">BeginInit()...</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-21"><g><rect x="36" y="763" width="247" height="126" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 245px; height: 1px; padding-top: 826px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">IScene setter<br />componentsDB(List)<br />→ components(Dict)<br />→ 触发 DeserializeSystem</div></div></div></foreignObject><text x="160" y="830" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">IScene setter...</text></switch></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-22"><g transform="translate(0.5,0.5)"><path d="M 1717.12 80 Q 1664 105 1664 121.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1664 128.88 L 1660.5 121.88 L 1667.5 121.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-23"><g transform="translate(0.5,0.5)"><path d="M 1664 184 Q 1664 184 1664 225.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1664 232.88 L 1660.5 225.88 L 1667.5 225.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-24"><g transform="translate(0.5,0.5)"><path d="M 1680.4 288 Q 1702 325 1702.46 414.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1702.49 421.88 L 1698.96 414.9 L 1705.96 414.86 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-25"><g transform="translate(0.5,0.5)"><path d="M 1825.84 80 Q 1872 105 1872 790.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1872 797.88 L 1868.5 790.88 L 1875.5 790.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-26"><g transform="translate(0.5,0.5)"><path d="M 1872 853 Q 1872 951 1809.81 984.18" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1803.64 987.47 L 1808.16 981.09 L 1811.46 987.27 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-27"><g transform="translate(0.5,0.5)"><path d="M 1687.92 1042 Q 1631 1067 1630.66 1083.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1630.52 1090.88 L 1627.16 1083.81 L 1634.16 1083.95 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-28"><g transform="translate(0.5,0.5)"><path d="M 1813.08 1042 Q 1871 1067 1871 1095.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1871 1102.88 L 1867.5 1095.88 L 1874.5 1095.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-29"><g transform="translate(0.5,0.5)"><path d="M 589.8 489 Q 503 550 503 578.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 503 585.88 L 499.5 578.88 L 506.5 578.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-30"><g transform="translate(0.5,0.5)"><path d="M 702 489 Q 791 550 791.42 590.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 791.49 597.88 L 787.92 590.92 L 794.92 590.85 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-31"><g transform="translate(0.5,0.5)"><path d="M 503 665 Q 503 665 502.07 778.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 502.01 785.88 L 498.57 778.85 L 505.57 778.91 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-32"><g transform="translate(0.5,0.5)"><path d="M 1647.6 288 Q 1625 325 1625 343.5 Q 1625 362 288.1 441.96" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 281.12 442.37 L 287.89 438.46 L 288.31 445.45 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="951" y="394" width="83" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="992.49" y="404.33">DB.Save(player)</text></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-33"><g transform="translate(0.5,0.5)"><path d="M 159 513 Q 159 550 365.07 595.39" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 371.91 596.9 L 364.32 598.81 L 365.82 591.98 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="217" y="564" width="63" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="247.87" y="574.08">Bson 序列化</text></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-34"><g transform="translate(0.5,0.5)"><path d="M 599.2 665 Q 719 714 996.85 796.68" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1003.56 798.68 L 995.85 800.04 L 997.85 793.33 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="769" y="726" width="63" height="27" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="800.05" y="736.12">ReplaceOne</text><text x="800.05" y="749.12">Upsert</text></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-35"><g transform="translate(0.5,0.5)"><path d="M 1215 477 Q 1215 550 641.07 611.1" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 634.11 611.84 L 640.7 607.62 L 641.44 614.58 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="928" y="571" width="66" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="960.44" y="581.6">DB.Query(id)</text></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-36"><g transform="translate(0.5,0.5)"><path d="M 466.6 665 Q 420 714 290.45 769.87" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 284.03 772.64 L 289.07 766.65 L 291.84 773.08 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="346" y="724" width="74" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="382.92" y="734.49">Bson 反序列化</text></g></g></g><g data-cell-id="9S7uowwRyqX5EaLhRDso-37"><g transform="translate(0.5,0.5)"><path d="M 159.5 889 Q 159 914 876 932.5 Q 1593 951 1677.41 984.97" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1683.9 987.58 L 1676.1 988.22 L 1678.72 981.72 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="885" y="927" width="57" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="912.74" y="937.95">恢复实体树</text></g></g></g></g></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>